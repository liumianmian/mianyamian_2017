
### 面向对象设计模式

=====================三种基础设计模式==================================

* 1，单列模式
> 使某个类，只需要初始化一次

	```
		// 实例一次
		public static function instance() {
		if(empty(self::$conn)) {
		self::$conn = new self();
		}

		return self::$conn;
		}
	```

* 2，工厂模式
> 工厂方法，或者类生成对象，而不是在代码中生成new

* 3，注册模式
> 全局共享和交换对象
> 项目初始化的时候，把全部类注册到全局树上，只需要获取就可以了。


------------------------------1，适配器模式-----------------------------
> 一个接口，通过不同的类来实现

1，数据库操作（PDO MYSQL SQL2005）
2，缓存操作（REDIS MEM MONGODB）

定义适配器模式interface，多个类继承接口

------------------------------2，策略模式-------------------------------
> 将一种特定的行为和算法封装成类，以适应某些特定的上下文环境

传入实例后的对象，让处理类统一处理。


-------------------------------3，数据对象映射模式----------------------
> ORM 模式

读取设置全部对象属性，保存之后，统一在__destruct里面更新。

-------------------------------4，原型模式------------------------------
> 主要用于大类对象的复制，clone

-------------------------------5，观察者模式----------------------------
> 当事件A发生后，依赖他的所有事件，需要全部更新。
> 比如：玩家入职之后。需要运维，行政，技术配合工作。

```
	// 观察者模式 | 进阶版本，直接通过配置统一实现
	$observer = new Lib\Obnofify();
	$observer->addOb(new Lib\Observer('ob1'));
	$observer->addOb(new Lib\Observer('ob2'));
	$observer->addOb(new Lib\Observer('ob3'));
	$observer->notify();
```
	
-------------------------------6，装饰器模式----------------------------
> 在运行前，添加一个插件类，类似J7框架里面的plugs


-------------------------------7，迭代器模式----------------------------
> 在不需要了解内部实现的情况下，遍历-个聚合对象的内部元素。

通过接口class myclass implements \iterator
实现5个方法


-------------------------------8，代理模式----------------------------
> 在客户端和实体之间加入一层代理proxy。

典型应用：mysql的主从设置

	
注意点：这里牵扯到一个全局配置加载项的管理。	